(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{862:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/processes",function(){return t(2715)}])},2715:function(e,a,t){"use strict";t.r(a);var s=t(5893),r=t(7294),n=t(1664),i=t.n(n),o=t(1163),d=t(5220),c=t(7710),l=t(7887);let u=e=>{let{isOpen:a,onClose:t,title:r,children:n}=e;return a?(0,s.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",children:[(0,s.jsxs)("div",{className:"bg-brand-dark rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-5 border-b sticky top-0 bg-brand-dark rounded-t-lg z-10",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white",children:r}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none","aria-label":"Fechar",children:"\xd7"})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto",children:n})]}),(0,s.jsx)("style",{children:"\n                @keyframes fade-in-scale {\n                    0% { transform: scale(0.95); opacity: 0; }\n                    100% { transform: scale(1); opacity: 1; }\n                }\n                .animate-fade-in-scale { animation: fade-in-scale 0.2s forwards ease-out; }\n            "})]}):null},m=e=>{let{isOpen:a,onClose:t,processes:n}=e,[i,o]=(0,r.useState)(new Date().getFullYear()),[d,c]=(0,r.useState)(null);return(0,s.jsx)(u,{isOpen:a,onClose:()=>{c(null),t()},title:"Relat\xf3rio de Pagamentos",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-end space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"reportYear",className:"block text-sm font-medium text-gray-700",children:"Ano"}),(0,s.jsx)("input",{type:"number",id:"reportYear",value:i,onChange:e=>o(parseInt(e.target.value)||new Date().getFullYear()),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"YYYY"})]}),(0,s.jsx)("button",{onClick:()=>{let e=[];if(n.forEach(a=>{a.feesReceived.forEach(t=>{new Date(t.date+"T00:00:00").getFullYear()===i&&e.push({...t,processNumber:a.processNumber})})}),0===e.length){c({months:[],grandTotal:0});return}let a={};e.forEach(e=>{let t=new Date(e.date+"T00:00:00").getMonth();a[t]||(a[t]=[]),a[t].push(e)});let t=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],s=[],r=0;Object.keys(a).map(e=>{let n=parseInt(e),i=a[n].sort((e,a)=>new Date(e.date).getTime()-new Date(a.date).getTime()),o=i.reduce((e,a)=>e+a.amount,0);r+=o,s.push({monthName:t[n],payments:i,total:o})}),s.sort((e,a)=>t.indexOf(e.monthName)-t.indexOf(a.monthName)),c({months:s,grandTotal:r})},className:"bg-brand-cyan-500 hover:bg-brand-cyan-600 text-white font-bold py-2 px-4 rounded-md transition duration-300",children:"Gerar Relat\xf3rio"})]}),d&&(0,s.jsx)("div",{className:"mt-6",children:d.months.length>0?(0,s.jsxs)("div",{className:"space-y-6",children:[d.months.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xl font-semibold text-gray-800 mb-3 pb-2 border-b",children:e.monthName}),(0,s.jsx)("ul",{className:"space-y-2 mb-3",children:e.payments.map(e=>(0,s.jsxs)("li",{className:"grid grid-cols-4 gap-4 items-center text-sm p-2 rounded-md hover:bg-gray-50",children:[(0,s.jsx)("span",{className:"text-gray-600",children:new Date(e.date+"T00:00:00").toLocaleDateString("pt-BR")}),(0,s.jsxs)("span",{className:"text-gray-800 font-medium col-span-2",children:[e.processNumber," - ",e.source]}),(0,s.jsx)("span",{className:"text-green-700 font-semibold text-right",children:e.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},e.id))}),(0,s.jsxs)("div",{className:"text-right font-bold text-gray-800 pr-2",children:["Subtotal M\xeas: ",e.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]},e.monthName)),(0,s.jsx)("div",{className:"mt-8 pt-4 border-t-2 text-right",children:(0,s.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:["Total Anual: ",d.grandTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})})]}):(0,s.jsxs)("p",{className:"text-center text-gray-500 py-8",children:["Nenhum pagamento encontrado para o ano de ",i,"."]})})]})})},p={[l.N5.ENVIAR_PROPOSTA]:"bg-yellow-100 text-yellow-800",[l.N5.ATRASO]:"bg-red-100 text-red-800",[l.N5.AGUARDANDO_RESPOSTA]:"bg-blue-100 text-blue-800",[l.N5.ELABORACAO_LAUDO]:"bg-violet-100 text-violet-800",[l.N5.PERICIA_MARCADA]:"bg-amber-100 text-amber-800",[l.N5.AGUARDANDO_PAGAMENTO]:"bg-green-100 text-green-800",[l.N5.ARQUIVADO]:"bg-gray-200 text-gray-800"},x={[l.MH.AJG]:"bg-red-100 text-red-800",[l.MH.PARTICULAR]:"bg-green-100 text-green-800"},f={[l.o9.LOCAL]:"bg-yellow-100 text-yellow-800",[l.o9.DOCUMENTAL]:"bg-blue-100 text-blue-800"},h=e=>{let{text:a,colorClass:t}=e;return(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(t),children:a})},A=e=>{let{process:a}=e;return(0,s.jsx)(i(),{href:"/processes/".concat(a.id),className:"block",children:(0,s.jsxs)("div",{className:"bg-brand-dark-secondary rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 p-6 flex flex-col justify-between h-full",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:a.processNumber}),(0,s.jsx)(h,{text:a.status,colorClass:p[a.status]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(h,{text:a.justiceType,colorClass:x[a.justiceType]}),(0,s.jsx)(h,{text:a.periciaType,colorClass:f[a.periciaType]})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-200 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Autor:"})," ",a.plaintiff]}),(0,s.jsxs)("p",{className:"text-sm text-gray-200",children:[(0,s.jsx)("span",{className:"font-semibold",children:"R\xe9u:"})," ",a.defendant]}),(0,s.jsxs)("p",{className:"text-sm text-gray-200 mt-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Cidade:"})," ",a.city]})]}),(0,s.jsx)("div",{className:"mt-4 pt-2 pb-2 ml-auto rounded-lg relative inset-0 w-2/5 border-gray-200 text-center bg-brand-cyan-500 text-white font-bold hover:underline",children:"Ver Detalhes"})]})})};a.default=()=>{let{isAuthenticated:e}=(0,d.a)(),a=(0,o.useRouter)(),[t,n]=(0,r.useState)([]),[l,u]=(0,r.useState)(!0),[p,x]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{e?(async()=>{u(!0),n(await (0,c.CN)()),u(!1)})():a.push("/login")},[e,a]),e)?l?(0,s.jsx)("div",{className:"text-center p-10",children:"Carregando processos..."}):(0,s.jsx)("div",{className:"bg-brand-dark min-h-screen",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 py-10 bg-brand-dark",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Lista de Processos"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>x(!0),className:"bg-brand-cyan-500 hover:bg-brand-cyan-600 text-white font-bold py-2 px-4 rounded-md transition duration-300 ease-in-out shadow-sm",children:"Relat\xf3rio Pagamentos"}),(0,s.jsx)(i(),{href:"/processes/new",className:"bg-green-400 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-md transition duration-300 ease-in-out shadow-sm",children:"+ Adicionar Processo"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,s.jsx)(A,{process:e},e.id))}),(0,s.jsx)(m,{isOpen:p,onClose:()=>x(!1),processes:t})]})}):(0,s.jsx)("div",{className:"text-center p-10",children:"Redirecionando para o login..."})}},7710:function(e,a,t){"use strict";t.d(a,{CN:function(){return i},ID:function(){return d},zJ:function(){return o}});var s=t(7887);let r=[{id:"1",processNumber:"001/2023-A",plaintiff:"Jo\xe3o da Silva",defendant:"Empresa de Telefonia S.A.",city:"Porto Alegre",status:s.N5.ELABORACAO_LAUDO,justiceType:s.MH.PARTICULAR,periciaType:s.o9.DOCUMENTAL,startDate:"2023-01-15",caseValue:5e4,feesCharged:[{id:"fc1",date:"2023-01-10",amount:5e3}],feesReceived:[{id:"fr1",date:"2023-02-01",amount:2500,source:"Adiantamento"}],description:"Per\xedcia t\xe9cnica para avalia\xe7\xe3o de falhas na presta\xe7\xe3o de servi\xe7o de internet."},{id:"2",processNumber:"002/2023-B",plaintiff:"Maria Oliveira",defendant:"Construtora Predial Ltda.",city:"Canoas",status:s.N5.AGUARDANDO_PAGAMENTO,justiceType:s.MH.PARTICULAR,periciaType:s.o9.LOCAL,startDate:"2022-11-20",caseValue:12e4,feesCharged:[{id:"fc2",date:"2022-11-15",amount:8e3}],feesReceived:[{id:"fr2",date:"2022-12-01",amount:4e3,source:"Primeira parcela"},{id:"fr3",date:"2023-01-05",amount:4e3,source:"Segunda parcela"}],description:"Laudo pericial sobre v\xedcios construtivos em im\xf3vel residencial."},{id:"3",processNumber:"003/2024-C",plaintiff:"Carlos Pereira",defendant:"Banco Financeiro S.A.",city:"S\xe3o Leopoldo",status:s.N5.ENVIAR_PROPOSTA,justiceType:s.MH.AJG,periciaType:s.o9.DOCUMENTAL,startDate:"2024-02-10",caseValue:75e3,feesCharged:[{id:"fc3",date:"2024-02-05",amount:6e3},{id:"fc4",date:"2024-02-08",amount:6500}],feesReceived:[],description:"An\xe1lise de contratos banc\xe1rios e juros abusivos."},{id:"4",processNumber:"004/2021-D",plaintiff:"Ana Costa",defendant:"Seguradora Confian\xe7a",city:"Novo Hamburgo",status:s.N5.ARQUIVADO,justiceType:s.MH.PARTICULAR,periciaType:s.o9.LOCAL,startDate:"2021-06-30",caseValue:3e4,feesCharged:[{id:"fc5",date:"2021-06-20",amount:3e3}],feesReceived:[{id:"fr4",date:"2021-07-15",amount:3e3,source:"Pagamento integral"}],description:"Avalia\xe7\xe3o de danos em ve\xedculo sinistrado."},{id:"5",processNumber:"005/2024-E",plaintiff:"Roberto Dias",defendant:"Companhia de Energia El\xe9trica",city:"Gravata\xed",status:s.N5.ATRASO,justiceType:s.MH.AJG,periciaType:s.o9.LOCAL,startDate:"2024-01-05",caseValue:25e3,feesCharged:[{id:"fc6",date:"2024-01-10",amount:2500}],feesReceived:[],description:"Per\xedcia em medidor de energia com suspeita de irregularidade."},{id:"6",processNumber:"006/2023-F",plaintiff:"Fernanda Lima",defendant:"Administradora de Condom\xednios",city:"Porto Alegre",status:s.N5.AGUARDANDO_RESPOSTA,justiceType:s.MH.PARTICULAR,periciaType:s.o9.DOCUMENTAL,startDate:"2023-12-01",caseValue:15e3,feesCharged:[{id:"fc7",date:"2023-12-05",amount:1800}],feesReceived:[],description:"An\xe1lise de presta\xe7\xe3o de contas do condom\xednio."},{id:"7",processNumber:"007/2024-G",plaintiff:"Lucas Martins",defendant:"Oficina Mec\xe2nica Express",city:"Canoas",status:s.N5.PERICIA_MARCADA,justiceType:s.MH.AJG,periciaType:s.o9.LOCAL,startDate:"2024-03-15",caseValue:8e3,feesCharged:[{id:"fc8",date:"2024-03-20",amount:1500}],feesReceived:[{id:"fr5",date:"2024-03-25",amount:750,source:"Adiantamento"}],description:"Verifica\xe7\xe3o de reparos realizados em motor de ve\xedculo."}],n=e=>new Promise(a=>setTimeout(()=>a(e),500)),i=async()=>n(r),o=async e=>n(r.find(a=>a.id===e)),d=async e=>{if(e.id&&"new"!==e.id)r=r.map(a=>a.id===e.id?e:a);else{let a={...e,id:new Date().getTime().toString()};return r.push(a),n(a)}return n(e)}},7887:function(e,a,t){"use strict";var s,r,n,i,o,d;t.d(a,{MH:function(){return r},N5:function(){return s},o9:function(){return n}}),(i=s||(s={})).ENVIAR_PROPOSTA="Enviar Proposta",i.ATRASO="Atraso",i.AGUARDANDO_RESPOSTA="Aguardando Resposta",i.ELABORACAO_LAUDO="Elabora\xe7\xe3o Laudo",i.PERICIA_MARCADA="Per\xedcia Marcada",i.AGUARDANDO_PAGAMENTO="Aguardando Pagamento",i.ARQUIVADO="Arquivado",(o=r||(r={})).AJG="AJG",o.PARTICULAR="Particular",(d=n||(n={})).LOCAL="Local",d.DOCUMENTAL="Documental"},1163:function(e,a,t){e.exports=t(9090)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=862)}),_N_E=e.O()}]);